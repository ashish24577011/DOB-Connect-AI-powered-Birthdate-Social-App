import streamlit as st
import requests
from backend import get_matches, get_celebrities, get_news, get_ai_summary

st.set_page_config(page_title="DOB Connect", page_icon="ğŸ‚", layout="centered")

st.title("ğŸ‚ DOB Connect â€“ AI Powered Birthdate Social App")

# Input DOB
dob = st.date_input("Enter your Date of Birth:")

if st.button("Find Matches"):
    st.subheader("ğŸ‘¯ Birthday Twins")
    users = get_matches(str(dob))
    if users:
        for u in users:
            st.write(f"- {u}")
    else:
        st.write("No birthday twins found yet!")

    st.subheader("â­ Celebrities with your DOB")
    celebs = get_celebrities(str(dob))
    for c in celebs:
        st.write(f"- {c}")

    st.subheader("ğŸ“° Celebrity News")
    news = get_news(celebs)
    if news:
        for n in news:
            st.write(f"**{n['title']}** - {n['url']}")
        st.subheader("ğŸ¤– AI Summary of News")
        st.write(get_ai_summary(news))
    else:
        st.write("No recent news found.")
